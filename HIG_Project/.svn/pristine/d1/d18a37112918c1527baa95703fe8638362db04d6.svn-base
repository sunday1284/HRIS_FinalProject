<!-- 
 * == ê°œì •ì´ë ¥(Modification Information) ==
 *   
 *   ìˆ˜ì •ì¼      			ìˆ˜ì •ì           ìˆ˜ì •ë‚´ìš©
 *  ============   	============== =======================
 *  2025. 3. 24.     	ì •íƒœìš°            ìµœì´ˆ ìƒì„±
 *
-->
<%@ page language="java" contentType="text/html; charset=UTF-8"
	pageEncoding="UTF-8"%>
<%@ taglib uri="http://java.sun.com/jsp/jstl/core" prefix="c"%>
<style>
body {
	font-family: 'Pretendard', 'Noto Sans KR', sans-serif;
	color: #343a40;
	background-color: #f4f6f8;
}

.table1 {
	width: 100%;
	border-collapse: collapse;
	font-size: 0.95rem;
	background-color: #fff;
	box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
	border-radius: 12px;
	overflow: hidden;
}

.table1 thead {
	background-color: #f1f3f5;
}

.table1 th, .table1 td {
	padding: 12px 15px;
	vertical-align: middle;
	white-space: nowrap;
	font-size: 16px;
}
td{
text-align: left;
}
th{
text-align: center;
}
.table1 th {
	font-weight: 600;
	color: #495057;
	border-bottom: 1px solid #dee2e6;
}

.table1 tbody tr {
	border-bottom: 1px solid #f1f3f5;
	transition: background-color 0.2s ease-in-out;
}

.table1 tbody tr:hover {
	background-color: #f8f9fa;
}

.table1 .btn {
	padding: 4px 10px;
	font-size: 0.85rem;
}

h3 a {
	display: flex;
	align-items: center;
	gap: 10px;
	font-size: 1.5rem;
	color: #212529;
	text-decoration: none;
	margin-bottom: 20px;
}

h3 h5 {
	margin: 0;
	font-size: 1rem;
	color: #6c757d;
	font-weight: normal;
}

.card {
	border: none;
	border-radius: 15px;
	background-color: #ffffff;
	box-shadow: 0 4px 10px rgba(0.1, 0.1, 0.1, 0.1);
	padding: 25px;
	margin-top: 10px;
	margin-bottom: 30px;
}

#btnDetail {
  display: inline-block;
  padding: 8px 16px;
  background-color: #0d6efd;
  color: white;
  border: none;
  border-radius: 8px;
  font-size: 14px;
  font-weight: 500;
  text-decoration: none;
  cursor: pointer;
  transition: background-color 0.25s ease, box-shadow 0.25s ease;
  box-shadow: 0 2px 6px rgba(13, 110, 253, 0.3);
}

#btnDetail:hover {
  background-color: #0b5ed7;
  box-shadow: 0 4px 12px rgba(13, 110, 253, 0.45);
}

#btnDetail:active {
  background-color: #0a58ca;
  box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.2);
}
#desc{
	display: flex; 
	justify-content: flex-end;
}
</style>

<div class="page-container container-fluid">
  <div class="d-flex justify-content-between align-items-center mb-2">
    
    <!-- ì¢Œì¸¡: ë²„íŠ¼ ê·¸ë£¹ -->
    <div>
      <button type="button" class="btn btn-outline-secondary" onclick="history.back();">
        <i class="fas fa-arrow-left"></i>
      </button>
    </div>

    <!-- ìš°ì¸¡: Breadcrumb -->
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb mb-0">
        <li class="breadcrumb-item fw-bold text-primary"><a href="${pageContext.request.contextPath }/account/login/home"> ğŸ“Œ Main</a></li>
        <li class="breadcrumb-item">
          <a href="${pageContext.request.contextPath }/attendance/list">ì „ì§ì› ê·¼íƒœí˜„í™©</a>
        </li>
        <li class="breadcrumb-item active" aria-current="page">ì—°ì°¨ ë³´ìœ í˜„í™©</li>
      </ol>
    </nav>

  </div>
</div>




<div class="card">
	<div class="card-header d-flex justify-content-between align-items-center">
		  <div>
		    <h3 class="mb-0">
		      <a id="toggleButton">ì „ì§ì› ì—°ì°¨ ë³´ìœ í˜„í™© <h5 class="mb-0 d-inline">(ì ‘ê¸°)</h5></a>
		    </h3>
		  </div>
		  <div id="desc">
		    <a href="#" class="btn btn-primary btn-lg rounded-pill shadow-lg" data-bs-toggle="modal" data-bs-target="#descModal2">
		      <i class="bi bi-info-circle-fill"></i> ì—°ì°¨ ê·œì •
		    </a>
		  </div>
		</div>
	<div id="dropdown" class="dropdown-content">
		<div class="card-body">
			<table class="table table-striped table1 " id="1t">
				<thead>
					<tr>
						<th>ì‚¬ë²ˆ</th>
						<th>ë¶€ì„œ</th>
						<th>íŒ€</th>
						<th>ì´ë¦„</th>
						<th>ì§ê¸‰</th>
						<th>ì…ì‚¬ ì¼ì</th>
						<th>ì´ ì—°ì°¨</th>
						<th>ì‚¬ìš© ì—°ì°¨</th>
						<th>ì”ì—¬ ì—°ì°¨</th>
						<th>ìƒì„¸ ë³´ê¸°</th>
					</tr>
				</thead>
				<tbody>
					<c:forEach items="${annualList}" var="annualVO">
						<tr>
							<td>${annualVO.empId }</td>
							<td>${annualVO.employee.department.departmentName}</td>
							<td>${annualVO.employee.team.teamName}</td>
							<td>${annualVO.employee.name }</td>
							<td>${annualVO.employee.rank.rankName }</td>
							<td>${annualVO.employee.hireDate.substring(0, 10)}
							<td>${annualVO.totalAnnual }</td>
							<td>${annualVO.usedAnnual }</td>
							<td>${annualVO.remainingAnnual }</td>
							<td><a id="btnDetail"
								href="/MyAnnual?empId=${annualVO.empId }">ìƒì„¸ë³´ê¸°</a></td>
						</tr>
					</c:forEach>
				</tbody>
			</table>
		</div>
	</div>
</div>
<hr>
<jsp:include page="../annual/annualHistoryList.jsp" />

<div class="modal fade" id="descModal2" tabindex="-1" aria-labelledby="descModal2Label" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="descModal2Label">ì—°ì°¨ ê·œì •</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <!-- ì—¬ê¸°ì— JSê°€ html ì‚½ì… -->
      </div>
    </div>
  </div>
</div>


<script src="/resources/js/annaul/annualDetail.js"></script>
<script src="/resources/js/annaul/annualDesc.js"></script>

<script>


	document.addEventListener("DOMContentLoaded", function() {
		document.getElementById("toggleButton").addEventListener(
				"click",
				function() {
					let dropdown = document.getElementById("dropdown");
					if (dropdown.style.display === "none"
							|| dropdown.style.display === "") {
						dropdown.style.display = "block"; // ë³´ì´ê²Œ ë³€ê²½
					} else {
						dropdown.style.display = "none"; // ìˆ¨ê¸°ê¸°
					}
				});

	});
</script>